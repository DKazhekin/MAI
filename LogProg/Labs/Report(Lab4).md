#№ Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студент: Кажекин Д.А.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Обычно, для обработки естественных и искусственных языков прибегают к лексическому или синтаксическому анализу.
Prolog очень удобен в этом, потому что он предоставляет определенные средства для разбора языка, например DCG-грамматика (--> оператор), представляющая собой реализацию разностных списков, но которая намного удобнее в использовании, составлении программ по анализу языка.

## Задание

Реализовать разбор фраз языка, представляющих собой положительные и отрицательные высказывания. В результате предикат должен выдавать все атомарные глубинные структуры.

## Принцип решения

Изначально следует сказать, что решение задачи сводится к разбиению предложения на составляющие части с помощью DCG-грамматики. 
Изначальное высказывание мы будем дробить на две части. Первая часть будет гланой частью (до слова "но"), а побочная часть - часть после слова "но" (включительно). 

```prolog
sentance(X,Y) --> main_part(X), but_part(Y).
```

Главную часть я решил представлять в форме: (Действующее лицо, Группа глагола)

```prolog
main_part(X) --> person(Actor), verb_group(Actor, X).
```

Побочная же часть представяет собой комбинацию слова "но", следующего за ним "действующего лица" и группы глагола опять же.

```prolog
but_part(Y) --> but(_), person(Actor), verb_group(Actor, Y).
```

Группу глагола я определил в формате глагола (любит, не любит конкретно в нашей задаче) и субъекта, к которому это отношение привязано.

```prolog
verb_group(Actor, X) --> verb(Actor, Y, X), object(Y).
```
Вот мы и добрались до глагола, отталкиваясь от которого мы и будем получать решение в формате likes(X, Y) или dislikes(X, Y). Найдя глагол и сопоставив его с объектом, который следует сразу же за ним, и действующим лицом, мы получаем ответ. Следует отметить, что такой поиск осуществляется сразу по двум "веткам" (главной части предложения и побочной). 

```prolog
verb(X,Y, likes(X, Y)) --> [likes].
verb(X,Y, dislikes(X, Y)) --> [dislikes].
```

Ниже приведено описание субъекта, а также "словарь", с которым работает наша программа :

```prolog
object(Y) --> prime_object(Y).

prime_object(apples) --> [apples].
prime_object(grapes) --> [grapes].
prime_object(nuts) --> [nuts].
prime_object('grapes and apples') --> [grapes, and, apples].
prime_object('apples and grapes') --> [apples, and, grapes].
prime_object('nuts and apples') --> [nuts, and, apples].
prime_object('apples and nuts') --> [apples, and, nuts].
prime_object('grapes and nuts') --> [grapes, and, nuts].
prime_object('nuts and tomatoes') --> [nuts, and, tomatoes].
person(nyusha) --> [nyusha].
person(misha) --> [misha].
but(but) --> [but].
```



## Результаты

```prolog
?- sentance(X,Y,[nyusha, likes, apples, and, grapes, but, nyusha, dislikes, nuts], []).
X = likes(nyusha, 'apples and grapes'),
Y = dislikes(nyusha, nuts) ;
false.

?- sentance(X,Y,[nyusha, likes, apples, but, nyusha, dislikes, nuts], []).
X = likes(nyusha, apples),
Y = dislikes(nyusha, nuts) ;
false.


?- sentance(X,Y,[nyusha, dislikes, apples, but, nyusha, likes, nuts], []).
X = dislikes(nyusha, apples),
Y = likes(nyusha, nuts) ;
false.
```

## Выводы

Пролог, действительно, оказывается очень удобным в грамматическом разборе благодаря DCG, позволяющим очень наглядно писать программу, в которой мы можем с легкостью определять составные части предложения. Конечно, по моему мнению, для более содержательных запросов машинного видения эффективнее себя покажут нейросети, но в рамках такой задачи, пролог "comes in handy". В ходе лабораторной работы я подытожил тему обработки естественного языка и получил опыт в написании программ такого рода, что может пригодиться мне в будущем.
